<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 780 700" font-family="Segoe UI, Arial, sans-serif" font-size="13">
  <defs>
    <marker id="a" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#555"/>
    </marker>
    <marker id="ad" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#999"/>
    </marker>
    <marker id="ab" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#1976d2"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="780" height="700" rx="12" fill="#fafafa" stroke="#e0e0e0"/>

  <!-- ==================== Telegram User ==================== -->
  <rect x="290" y="14" width="200" height="40" rx="20" fill="#2196f3" stroke="#1976d2"/>
  <text x="390" y="39" text-anchor="middle" fill="#fff" font-weight="600">Telegram User</text>

  <!-- Arrow down: links, .torrent, commands -->
  <line x1="350" y1="54" x2="350" y2="84" stroke="#555" stroke-width="1.5" marker-end="url(#a)"/>
  <text x="342" y="74" text-anchor="end" fill="#888" font-size="9">links / .torrent / commands</text>

  <!-- Arrow up: notifications -->
  <line x1="430" y1="84" x2="430" y2="54" stroke="#1976d2" stroke-width="1.2" marker-end="url(#ab)"/>
  <text x="438" y="74" fill="#1976d2" font-size="9">notifications</text>

  <!-- ==================== Bot group ==================== -->
  <rect x="110" y="86" width="560" height="100" rx="10" fill="#e3f2fd" stroke="#90caf9"/>
  <text x="390" y="104" text-anchor="middle" font-weight="700" fill="#1565c0" font-size="14">Bot</text>

  <!-- Auth -->
  <rect x="126" y="112" width="110" height="32" rx="6" fill="#fff" stroke="#90caf9"/>
  <text x="181" y="133" text-anchor="middle" fill="#555" font-size="11" font-weight="600">Auth</text>

  <!-- Router -->
  <rect x="248" y="112" width="110" height="32" rx="6" fill="#fff" stroke="#90caf9"/>
  <text x="303" y="133" text-anchor="middle" fill="#555" font-size="11" font-weight="600">Router</text>

  <!-- Handlers -->
  <rect x="370" y="112" width="150" height="32" rx="6" fill="#fff" stroke="#90caf9"/>
  <text x="445" y="133" text-anchor="middle" fill="#555" font-size="11" font-weight="600">Handlers</text>

  <!-- Session -->
  <rect x="532" y="112" width="124" height="32" rx="6" fill="#fff" stroke="#90caf9"/>
  <text x="594" y="133" text-anchor="middle" fill="#555" font-size="11" font-weight="600">Sessions</text>

  <!-- Arrow: Handlers -> DM -->
  <text x="144" y="158" fill="#888" font-size="9">login | roles | temp passwords</text>
  <text x="420" y="158" fill="#888" font-size="9">/ls /rm /start /temp | callbacks</text>

  <!-- ==================== Prowlarr (optional) ==================== -->
  <rect x="614" y="200" width="144" height="50" rx="8" fill="#fff" stroke="#bbb" stroke-dasharray="5,3"/>
  <text x="686" y="218" text-anchor="middle" fill="#aaa" font-size="10">optional</text>
  <text x="686" y="234" text-anchor="middle" fill="#555" font-weight="600">Prowlarr</text>
  <line x1="594" y1="144" x2="660" y2="198" stroke="#999" stroke-width="1.1" stroke-dasharray="5,3" marker-end="url(#ad)"/>
  <text x="646" y="178" fill="#999" font-size="9">search</text>

  <!-- ==================== Database ==================== -->
  <rect x="22" y="206" width="140" height="56" rx="8" fill="#fff3e0" stroke="#ffcc80"/>
  <text x="92" y="228" text-anchor="middle" font-weight="600" fill="#e65100">Database</text>
  <text x="92" y="244" text-anchor="middle" fill="#999" font-size="10">SQLite</text>
  <text x="92" y="256" text-anchor="middle" fill="#999" font-size="9">movies | users | files</text>
  <line x1="250" y1="186" x2="160" y2="218" stroke="#555" stroke-width="1.2" marker-end="url(#a)"/>

  <!-- ==================== Download Manager ==================== -->
  <rect x="180" y="200" width="370" height="70" rx="10" fill="#e8f5e9" stroke="#a5d6a7"/>
  <text x="365" y="220" text-anchor="middle" font-weight="700" fill="#2e7d32" font-size="14">Download Manager</text>

  <!-- Sub-blocks inside DM -->
  <rect x="196" y="230" width="90" height="26" rx="5" fill="#fff" stroke="#a5d6a7"/>
  <text x="241" y="248" text-anchor="middle" fill="#555" font-size="10">Queue</text>

  <rect x="296" y="230" width="90" height="26" rx="5" fill="#fff" stroke="#a5d6a7"/>
  <text x="341" y="248" text-anchor="middle" fill="#555" font-size="10">Semaphore</text>

  <rect x="396" y="230" width="90" height="26" rx="5" fill="#fff" stroke="#a5d6a7"/>
  <text x="441" y="248" text-anchor="middle" fill="#555" font-size="10">Monitor</text>

  <!-- Arrow: Bot -> DM -->
  <line x1="390" y1="186" x2="390" y2="198" stroke="#555" stroke-width="1.5" marker-end="url(#a)"/>

  <!-- Arrows: DM -> downloaders -->
  <line x1="290" y1="270" x2="220" y2="320" stroke="#555" stroke-width="1.5" marker-end="url(#a)"/>
  <line x1="440" y1="270" x2="510" y2="320" stroke="#555" stroke-width="1.5" marker-end="url(#a)"/>

  <!-- ==================== yt-dlp ==================== -->
  <rect x="108" y="322" width="180" height="60" rx="8" fill="#f3e5f5" stroke="#ce93d8"/>
  <text x="198" y="346" text-anchor="middle" font-weight="600" fill="#7b1fa2">yt-dlp</text>
  <text x="198" y="360" text-anchor="middle" fill="#999" font-size="10">streaming video</text>
  <text x="198" y="374" text-anchor="middle" fill="#999" font-size="9">YouTube | VK | RuTube | ...</text>

  <!-- ==================== aria2 ==================== -->
  <rect x="422" y="322" width="180" height="60" rx="8" fill="#fce4ec" stroke="#ef9a9a"/>
  <text x="512" y="346" text-anchor="middle" font-weight="600" fill="#c62828">aria2</text>
  <text x="512" y="360" text-anchor="middle" fill="#999" font-size="10">torrents</text>
  <text x="512" y="374" text-anchor="middle" fill="#999" font-size="9">single-file | multi-file</text>

  <!-- Arrows: downloaders -> File Storage -->
  <line x1="198" y1="382" x2="310" y2="440" stroke="#555" stroke-width="1.5" marker-end="url(#a)"/>
  <line x1="512" y1="382" x2="420" y2="440" stroke="#555" stroke-width="1.5" marker-end="url(#a)"/>

  <!-- ==================== TV Compat (optional) ==================== -->
  <rect x="600" y="430" width="156" height="56" rx="8" fill="#fff" stroke="#bbb" stroke-dasharray="5,3"/>
  <text x="678" y="448" text-anchor="middle" fill="#aaa" font-size="10">optional</text>
  <text x="678" y="464" text-anchor="middle" fill="#555" font-weight="600">TV Compat</text>
  <text x="678" y="478" text-anchor="middle" fill="#999" font-size="9">ffmpeg | ffprobe | remux</text>
  <line x1="520" y1="462" x2="598" y2="462" stroke="#999" stroke-width="1.1" stroke-dasharray="5,3" marker-end="url(#ad)"/>

  <!-- ==================== File Manager ==================== -->
  <rect x="22" y="436" width="156" height="50" rx="8" fill="#e8eaf6" stroke="#9fa8da"/>
  <text x="100" y="458" text-anchor="middle" font-weight="600" fill="#283593">File Manager</text>
  <text x="100" y="472" text-anchor="middle" fill="#999" font-size="9">disk space | cleanup | temp files</text>
  <line x1="210" y1="462" x2="180" y2="462" stroke="#555" stroke-width="1.1" marker-end="url(#a)"/>

  <!-- ==================== File Storage ==================== -->
  <rect x="212" y="438" width="240" height="48" rx="8" fill="#fffde7" stroke="#fff176"/>
  <text x="332" y="460" text-anchor="middle" font-weight="600" fill="#f57f17">File Storage</text>
  <text x="332" y="474" text-anchor="middle" fill="#999" font-size="11">MOVIE_PATH</text>

  <!-- Arrow: Storage -> DLNA -->
  <line x1="332" y1="486" x2="332" y2="530" stroke="#999" stroke-width="1.2" stroke-dasharray="5,3" marker-end="url(#ad)"/>

  <!-- ==================== DLNA ==================== -->
  <rect x="240" y="532" width="184" height="48" rx="8" fill="#fff" stroke="#bbb" stroke-dasharray="5,3"/>
  <text x="332" y="551" text-anchor="middle" fill="#aaa" font-size="10">optional</text>
  <text x="332" y="567" text-anchor="middle" fill="#555" font-weight="600">DLNA | minidlna</text>

  <!-- Arrow: DLNA -> TV -->
  <line x1="332" y1="580" x2="332" y2="618" stroke="#999" stroke-width="1.2" stroke-dasharray="5,3" marker-end="url(#ad)"/>

  <!-- ==================== TV / Smart TV ==================== -->
  <rect x="262" y="620" width="140" height="38" rx="19" fill="#78909c" stroke="#546e7a"/>
  <text x="332" y="644" text-anchor="middle" fill="#fff" font-weight="600">Smart TV</text>

  <!-- ==================== Legend ==================== -->
  <rect x="22" y="628" width="180" height="56" rx="6" fill="none" stroke="#ddd"/>
  <text x="32" y="646" fill="#555" font-size="11" font-weight="600">Legend</text>
  <line x1="32" y1="658" x2="62" y2="658" stroke="#555" stroke-width="1.5"/>
  <text x="68" y="662" fill="#888" font-size="10">required</text>
  <line x1="32" y1="674" x2="62" y2="674" stroke="#999" stroke-width="1.2" stroke-dasharray="5,3"/>
  <text x="68" y="678" fill="#888" font-size="10">optional</text>
</svg>
