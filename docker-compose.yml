services:
  telegram-media-server:
    build:
      dockerfile: Dockerfile
      context: .
    env_file: ".env"
    environment:
      - RUNNING_IN_DOCKER=true
    volumes:
      - ${MOVIE_PATH}:/app/media
    ports:
      - "6881-6999:6881-6999/tcp"
      - "6881-6999:6881-6999/udp"
    network_mode: bridge

  prowlarr:
    image: lscr.io/linuxserver/prowlarr:latest
    container_name: prowlarr
    env_file: ".env"
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
    volumes:
      - ${MOVIE_PATH}/prowlarr-config:/config
    ports:
      - "9696:9696"
    restart: unless-stopped
    logging:
      driver: "none"
